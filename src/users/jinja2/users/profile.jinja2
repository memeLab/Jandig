{% extends '/core/home.jinja2' %}

{% block content %}
    {% block subcontent %}
    {% endblock %}
    <section class="profile-options-flex">
        <div class="container">
            {% with markers=markers, objects=objects, exhibits=exhibits, artworks=artworks%}
                {% include "users/components/userbox.jinja2" %}
            {% endwith %}

            {# FIXME: maybe this can be improved #}
            <link rel="stylesheet" href="{{ static ('css/profile.css') }}">
            <link rel="stylesheet" href="{{ static ('css/repository-list.css') }}">
            <link rel="stylesheet" href="{{ static ('css/generic-modal.css') }}">
            <script src="{{ static('js/modal.js') }}"></script>
                    <h1 class="titExb">{{_("Your Exhibitions")}}</h1>
                    {% if exhibits %}
                        {% with deletable=true, editable=true, repository_list = exhibits, element_type="exhibit"%}
                            {% include "core/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no Exhibitions. :c")}}</p>
                            <a href="{{ url('create-exhibit') }}">{{ _('Create one') }}</a>
                        </section>
                    {% endif %}

                    <h1 class="titArt">{{_("Your Artworks")}}</h1>
                    {% if artworks %}
                        {% with preview=True, deletable=true, editable=true, repository_list = artworks, element_type="artwork" %}
                            {% include "core/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no Artworks. :c")}}</p>
                            <a href="{{ url('create-artwork') }}">{{ _('Create one') }}</a>
                        </section>
                    {% endif %}
            
                    <h1 class="titArt">{{_("Your Markers")}}</h1>
                    {% if markers %}
                        {% with deletable=true, editable=true, repository_list = markers, element_type="marker"%}
                            {% include "core/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no Markers. :c")}}</p>
                            <a href="{{ url('marker-upload') }}">{{ _('Upload one') }}</a>
                        </section>
                    {% endif %}

                    <h1 class="titArt">{{_("Your Objects")}}</h1>

                    {% if objects %}
                        {% with deletable=true, editable=true, repository_list = objects, element_type="object" %}
                            {% include "core/components/item-list.jinja2" %}
                        {% endwith %}
                    {% else %}
                        <section id="repo-{{element_type}}" class="repository-list">
                            <p>{{_("You have no Objects. :c")}}</p>
                            <a href="{{ url('object-upload') }}">{{ _('Upload one') }}</a>
                        </section>
                    {% endif %}

            {% include "users/components/createbox.jinja2" %}
            <section id="modal" class="modal"></section>
        </div>
    </section>
{% endblock %}